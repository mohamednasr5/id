<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø¥Ø¶Ø§ÙØ© Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .card {
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }
    h1 {
      color: #0072ff;
      text-align: center;
      margin-bottom: 30px;
    }
    button {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #00c6ff, #0072ff);
      color: white;
      border: none;
      border-radius: 50px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 15px;
      transition: transform 0.3s ease;
    }
    button:hover {
      transform: translateY(-2px);
    }
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    #status {
      padding: 15px;
      margin-top: 20px;
      border-radius: 10px;
      text-align: center;
      font-weight: bold;
      display: none;
    }
    #status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      display: block;
    }
    #status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
      display: block;
    }
    #log {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      max-height: 300px;
      overflow-y: auto;
      font-size: 14px;
      font-family: monospace;
    }
    .log-item {
      padding: 5px;
      border-bottom: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>âš™ï¸ Ø¥Ø¶Ø§ÙØ© Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ (800801 - 800829)</h1>
    
    <button id="addCodesBtn" onclick="addLoginCodes()">
      Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø¥Ù„Ù‰ Firebase
    </button>
    
    <button onclick="viewCodes()" style="background: linear-gradient(135deg, #43cea2, #185a9d);">
      Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    </button>
    
    <div id="status"></div>
    <div id="log"></div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
    
    const firebaseConfig = {
      apiKey: "AIzaSyAxnIxtFeAOjYjCIrU5cwYVteuQ18K8Kjc",
      authDomain: "idmanazla.firebaseapp.com",
      databaseURL: "https://idmanazla-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "idmanazla",
      storageBucket: "idmanazla.firebasestorage.app",
      messagingSenderId: "408446131276",
      appId: "1:408446131276:web:976ae54181b5398de5a8e9"
    };
    
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const places = [
      "Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© 1 - ÙƒØ±ÙŠÙ… Ø§Ù„Ù…Ø±ÙˆØ±",
      "Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© 2 - Ø´Ø±ÙŠÙ Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„ØµØ­ÙŠ",
      "Ø¨Ø­Ø± Ø§Ù„Ø¨Ù„Ø¯ Ø´Ø§Ø±Ø¹ Ø§Ù„ÙƒØ§Ø¨ØªÙ† - Ø´Ø±ÙŠÙ Ø§Ù„Ø¹Ø²Ø§Ø²ÙŠ",
      "Ù…Ø¯Ø±Ø³Ø© Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø§Ù„ Ø´Ù„Ø¨ÙŠØ§ÙŠØ© - Ø§Ø´Ø±Ù Ø§Ù„Ø£Ø¨Ø§ØµÙŠØ±ÙŠ",
      "Ù…ØµÙ†Ø¹ Ø§Ù„Ø¨ØµÙ„ - ÙØ¤Ø§Ø¯ Ø­Ø§Ù„",
      "Ø§Ù„ÙƒÙØ± 1 - Ø¹Ù„ÙŠ Ø´Ø·Ø§",
      "Ø§Ù„ÙƒÙØ± 2 ØªØ­Øª Ø§Ù„Ø³ÙƒØ© - Ø¹Ø§Ø¯Ù„ Ø¬Ù„Ø§Ù„",
      "Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù…Ù„Ø© - Ø§Ù„Ø³Ø¹ÙŠØ¯ Ø´Ø·Ø§- Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ø¹",
      "Ø§Ù„ÙØ¯Ø§Ø¡ 1 - Ø¹Ù…Ø± Ø§Ù„ÙƒÙŠØ§Ù„",
      "Ø§Ù„ÙØ¯Ø§Ø¡ 2 - Ø­Ù…Ø§Ø¯Ù‡ Ø§Ù„ÙƒÙŠØ§Ù„",
      "Ø§Ù„Ø­Ù…Ø²Ø§ÙˆÙŠ - Ø­Ù…Ø§Ø¯Ù‡ Ø§Ù„Ø³Ø±ÙŠ",
      "Ø§Ù„Ø¬Ø±Ù† 1 - Ø¨ÙˆØ¬ÙŠ Ø§Ù„Ø¨Ø±Ø¹ÙŠ",
      "Ø§Ù„Ø¬Ø±Ù† 2 - Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… ÙÙ‡ÙŠØ¯",
      "Ø§Ù„Ø¨Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ Ø­ÙŠ Ø§Ù„Ø³Ù„Ø§Ù… - ÙŠØ­ÙŠÙ‰ Ø­Ø¨Ù‚",
      "Ø­ÙŠ Ø§Ù„Ø£Ø¹Ø¬Ø§Ù… - Ø­Ù…Ø§Ø¯Ù‡ Ø§Ø¨Ùˆ Ø±Ø´Ø§Ø¯",
      "Ø§Ù„Ø¹Ø²Ø¨Ø© Ù…Ù†Ø´ÙŠØ© Ù†Ø§ØµØ± -Ø­Ø³Ø§Ù† Ø¹Ø·ÙŠØ©",
      "Ø§Ù„Ø·ÙˆÙŠÙ„ - Ø£Ø­Ù…Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø¸ÙŠÙ…",
      "Ø§Ù„Ø¨Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ 2 Ø§Ù„Ù‡Ø§ÙˆÙŠØ³ - Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø¬ÙŠØ¯",
      "Ø§Ù„ÙÙ‚Ø§Ø¹ÙŠ - Ù…Ø­Ù…Ø¯ Ø­Ø¨ÙŠØ¨",
      "Ø¨Ø­Ø± Ø§Ù„Ø¨Ù„Ø¯ 2 - Ø§Ù„Ø³ÙŠØ¯ Ø­Ø±Ø§Ø²",
      "Ø­ÙŠ Ø§Ù„Ø¬Ø¨Ø§Ù†Ø© - Ø³Ø¹Ø¯ Ø§Ù„Ø´Ù„ÙˆØ¯ÙŠ",
      "Ø§Ù„ÙƒÙØ± 3 Ø¨Ø¬ÙˆØ§Ø± Ù…Ù„Ø¹Ø¨ Ø¨Ø±Ø´Ù„ÙˆÙ†Ø© - Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©",
      "Ø£Ø¨Ùˆ Ø±Ø´Ø§Ø¯ Ù…Ù‚Ù‡Ù‰ Ø£Ø¨Ùˆ Ø³Ù„ÙŠÙ…Ø§Ù† - Ù…Ø­Ù…Ø¯ Ø±Ø´Ø§Ø¯",
      "Ø­ÙŠ Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡ - Ø±Ø´Ø§Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„ÙˆÙ‡Ø§Ø¨",
      "Ø¨Ø­Ø± Ø§Ù„Ø¨Ù„Ø¯ 3 - Ù…Ù†ØµÙˆØ± Ø§Ù„Ø¨Ø¯Ø±ÙŠ",
      "Ø­ÙŠ Ø§Ù„Ø³Ù„Ù…ÙˆÙ†ÙŠ - Ø­Ø³Ù† Ø§Ù„Ù…Ù†Ø§Ø®Ù„Ù‰",
      "Ø­Ù‰ Ù…Ø²Ù„ÙØ§Ù† Ø§Ù„Ø¹Ù„Ù…ÙŠ -Ø£Ø¨ÙˆØ¹Ù„Ø§Ø¡",
      "Ø­ÙŠ Ø§Ù„Ø¨ØµÙ„Ù‡ Ø­Ù…ÙˆØ¯-Ø¹Ø¨Ø¯ Ø§Ù„Ø­Ù…ÙŠØ¯",
      "Ø­Ù‰ Ø§Ù„Ø¬Ø±Ù† 3 -Ù‚Ù‡ÙˆØ© Ø§Ù„Ù†Ø¬Ø¯ÙŠ Ù…Ø­Ù…Ø¯ Ø§Ù„Ù†Ø¬Ø¯ÙŠ"
    ];

    function addLog(message, isError = false) {
      const logDiv = document.getElementById('log');
      const logItem = document.createElement('div');
      logItem.className = 'log-item';
      logItem.style.color = isError ? '#dc3545' : '#28a745';
      logItem.textContent = `${new Date().toLocaleTimeString()} - ${message}`;
      logDiv.appendChild(logItem);
      logDiv.scrollTop = logDiv.scrollHeight;
    }

    window.addLoginCodes = async function() {
      const btn = document.getElementById('addCodesBtn');
      const status = document.getElementById('status');
      const logDiv = document.getElementById('log');
      
      btn.disabled = true;
      btn.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...';
      status.className = '';
      status.style.display = 'none';
      logDiv.innerHTML = '';

      try {
        addLog('Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯...');
        
        let successCount = 0;
        let errorCount = 0;

        for (let i = 0; i < places.length; i++) {
          const code = String(800801 + i);
          const place = places[i];
          const placeIdx = i + 1;

          try {
            await set(ref(db, `login_codes/${code}`), {
              place: place,
              placeIdx: placeIdx
            });
            
            addLog(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙˆØ¯ ${code} - ${place}`);
            successCount++;
            
            // ØªØ£Ø®ÙŠØ± ØµØºÙŠØ± Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Firebase
            await new Promise(resolve => setTimeout(resolve, 100));
            
          } catch (error) {
            addLog(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© ${code}: ${error.message}`, true);
            errorCount++;
          }
        }

        addLog(`\nâœ¨ Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ${successCount} Ù†Ø¬Ø­ØŒ ${errorCount} ÙØ´Ù„`);
        
        status.className = 'success';
        status.textContent = `âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© ${successCount} ÙƒÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­!`;
        status.style.display = 'block';

      } catch (error) {
        addLog(`âŒ Ø®Ø·Ø£ Ø¹Ø§Ù…: ${error.message}`, true);
        status.className = 'error';
        status.textContent = 'âŒ Ø­Ø¯Ø« Ø®Ø·Ø£: ' + error.message;
        status.style.display = 'block';
      } finally {
        btn.disabled = false;
        btn.textContent = 'Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø¥Ù„Ù‰ Firebase';
      }
    };

    window.viewCodes = async function() {
      const logDiv = document.getElementById('log');
      logDiv.innerHTML = '<div class="log-item">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯...</div>';

      try {
        const snapshot = await get(ref(db, 'login_codes'));
        
        if (!snapshot.exists()) {
          addLog('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', true);
          return;
        }

        const codes = snapshot.val();
        logDiv.innerHTML = '<div class="log-item" style="font-weight:bold;background:#e7f3ff;">Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø­Ø§Ù„ÙŠØ§Ù‹:</div>';
        
        Object.keys(codes).sort().forEach(code => {
          addLog(`ğŸ”‘ ${code} â†’ ${codes[code].place}`);
        });

      } catch (error) {
        addLog(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯: ${error.message}`, true);
      }
    };
  </script>
</body>
</html>
